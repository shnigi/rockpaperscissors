<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="msapplication-tap-highlight" content="no" />
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
<!--JavaScript-->
<script src="js/jquery-2.1.3.min.js"></script>
<script src="js/jquery.mobile-1.4.5.min.js"></script>
<script src="js/swipe.js"></script>
<script type="text/javascript" src="js/shake.js"></script>
<!--Style--> 	
<link rel="stylesheet" type="text/css" href="css/style.css">
<link rel="stylesheet" type="text/css" href="css/shake.css">
<link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css">
<title>Rock-paper-scissors</title>
</head>
<body>
    
<div data-role="page" id="pageone">
  <div data-role="header">
    <h1>Rock-paper-scissors</h1>
  </div>

  <div data-role="main" class="ui-content">
  
<div id='mySwipe' class='swipe'>
  <div class='swipe-wrap'>
    <div><b><img src="img/kivi.png" alt="kivi" class="shake"></b></div>
    <div><b><img src="img/papru.png" alt="paperi" class="shake"></b></div>
    <div><b><img src="img/saksi.png" alt="sakset" class="shake"></b></div>
  </div>
</div>

<div style='text-align:center;padding-top:20px;'>
  <button onclick='mySwipe.prev()'>prev</button> 
  <button onclick='mySwipe.next()'>next</button>
</div>

    
  </div>
<!--Content ends-->

<div data-role="footer">
    <h1>Created by Niki Ahlskog 2015</h1>
  </div>
</div> 

<!--Ladataan dialogi kun sivu avataan-->
<script>
$(document).ready(function() {
  //Ladataan popup boxi
  $.mobile.changePage( "#pagetwo", { transition: "slideup", changeHash: false });
   //ladataan swipetoosa
  var elem = document.getElementById('mySwipe');
window.mySwipe = Swipe(elem, {
});
   
});
</script>

<!--Dialogiboxi-->
<div data-role="page" data-dialog="true" id="pagetwo">
 <div data-role="main" class="ui-content">
    <p>Rock-paper-scissors mobile! Swipe left or right to select your weapon, shake your phone to fight!</p>
    <a href="#pageone"><button>Ok!</button></a>
  </div>
</div> 
 <!--Dialogiboxi loppuu-->


<script>	
//Tarkistetaan mik√§ ase on valittuna
function aseValinta() {
var pos = mySwipe.getPos();

if (pos == "0"){
	alert("kivi");
}
else if (pos == "1"){
	alert("papru");
}
else {
	alert("saksi");
}


}


	
	
//ravistustoiminto	
window.onload = function() {
    //create a new instance of shake.js.
    var myShakeEvent = new Shake({
        threshold: 15
    });
    // start listening to device motion
    myShakeEvent.start();
    // register a shake event
    window.addEventListener('shake', shakeEventDidOccur, false);
    //shake event callback
    function shakeEventDidOccur () {
        //put your own code here etc.
        aseValinta();
    }
};
</script>
           
</div>
<!-- Cordova juttuja -->
<script type="text/javascript" src="cordova.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript">
app.initialize();
</script>
</body>
</html>
